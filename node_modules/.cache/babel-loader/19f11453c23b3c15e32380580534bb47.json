{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ravul\\\\Desktop\\\\chatApp\\\\watchtogether-chat-app\\\\src\\\\components\\\\Player\\\\index.js\";\nimport React, { Component } from 'react';\nimport ReactPlayer from 'react-player';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport './Player.css';\nimport { withFirebase } from '../Firebase';\nimport { compose } from 'recompose';\n\nclass ResponsivePlayer2 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePlayPause = () => {\n      this.setState({\n        playing: !this.state.playing\n      });\n    };\n\n    this.handlePlay = () => {\n      console.log('onPlay');\n      this.setState({\n        playing: true\n      });\n      this.Resource.set({\n        playing: this.state.playing,\n        source: this.state.source,\n        duration: this.state.duration,\n        played: this.state.played,\n        progress: true\n      });\n      this.Player.push({\n        sender: 'Play',\n        message: 'The video has been resumed',\n        newSource: this.state.newSource\n      });\n    };\n\n    this.handlePause = () => {\n      console.log('onPause');\n      this.setState({\n        playing: false\n      });\n      this.Resource.set({\n        playing: this.state.playing,\n        source: this.state.source,\n        duration: this.state.duration,\n        played: this.state.played\n      });\n      this.Player.push({\n        sender: 'Pause',\n        message: 'The video has been paused',\n        newSource: this.state.newSource\n      });\n    };\n\n    this.handleDuration = duration => {\n      console.log('onDuration', duration);\n      this.setState({\n        duration\n      });\n    };\n\n    this.handleSeekChange = e => {\n      this.setState({\n        played: parseFloat(e.target.value)\n      });\n    };\n\n    this.handleProgress = state => {\n      // We only want to update time slider if we are not currently seeking\n      if (!this.state.seeking) {\n        this.setState(state); //  console.log('onProgress', state)\n      }\n\n      this.setState({\n        played: state.played,\n        progress: true\n      });\n      this.Resource.set({\n        playing: this.state.playing,\n        source: this.state.source,\n        duration: this.state.duration,\n        played: this.state.played\n      });\n    };\n\n    this.onTextChange = event => {\n      console.log(event.target.value);\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.Buffer = () => {\n      this.setState({\n        progress: true\n      });\n    };\n\n    this.state = {\n      source: '',\n      newSource: 'qwe',\n      player: '',\n      playing: false,\n      duration: 0,\n      seeking: false,\n      played: 0.5,\n      progress: false\n    };\n    this.play = this.play.bind(this);\n    this.handleValueChange = this.handleValueChange.bind(this);\n    this.onTextChange = this.onTextChange.bind(this);\n    this.Player = this.props.firebase.db.ref().child('chatrooms').child('global');\n    this.Resource = this.props.firebase.db.ref().child('Player');\n\n    this.handleNewPlayer = snap => {\n      console.log(snap.child(\"source\").val());\n      if (snap.val()) this.setState({\n        source: snap.child(\"source\").val(),\n        playing: snap.child(\"playing\").val(),\n        duration: snap.child(\"duration\").val(),\n        played: snap.child(\"played\").val(),\n        progress: snap.child(\"progress\").val()\n      }); //  this.state.player.seekTo(this.state.played);\n\n      if (this.state.progress) {\n        this.state.player.seekTo(this.state.played);\n        this.setState({\n          progress: false\n        });\n      }\n    }; // if(this.progress === true)\n    // {\n    //   console.log('hi');\n    //   this.player.seekTo(this.played, 'fraction');\n    // }\n\n  }\n\n  componentDidMount() {\n    this.Resource.on('value', this.handleNewPlayer);\n  }\n\n  componentWillUnmount() {\n    // unsubscribe\n    this.Resource.off('value', this.handleNewPlayer);\n  }\n\n  play(url) {\n    console.log(this.state.player.props.muted);\n    this.setState({\n      source: 'https://www.youtube.com/watch?v=foiD5iCkq08'\n    });\n    console.log(this.state.player);\n  }\n\n  handleValueChange(e) {\n    this.Player.push({\n      sender: 'URL',\n      message: 'new URL is: ' + this.state.newSource,\n      newSource: this.state.newSource\n    });\n    this.Resource.set({\n      source: this.state.newSource,\n      playing: false,\n      duration: 0,\n      played: 0\n    });\n    this.setState({\n      source: this.state.newSource\n    });\n    e.preventDefault();\n    this.setState({\n      newSource: \"\"\n    });\n  }\n\n  render() {\n    const newSource = this.state.newSource;\n    return React.createElement(\"div\", {\n      className: \"player-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(ReactPlayer, {\n      ref: player => {\n        this.state.player = player;\n      },\n      className: \"react-player\",\n      url: this.state.source,\n      controls: true,\n      playing: this.state.playing,\n      width: \"1000px\",\n      height: \"720px\",\n      onPause: this.handlePause,\n      onPlay: this.handlePlay,\n      onDuration: this.handleDuration,\n      onSeek: e => console.log('onSeek', e),\n      onBuffer: this.Buffer,\n      onProgress: this.handleProgress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.handlePlayPause,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"Link #2\")), React.createElement(\"form\", {\n      onSubmit: this.handleValueChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      value: newSource,\n      onChange: this.onTextChange,\n      type: \"text\",\n      name: \"newSource\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    })), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"playing\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, this.state.playing ? 'true' : 'false'), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Played\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"progress\", {\n      max: 1,\n      value: this.state.played,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst ResponsivePlayer = compose(withFirebase)(ResponsivePlayer2);\nexport default ResponsivePlayer;","map":{"version":3,"sources":["C:/Users/Ravul/Desktop/chatApp/watchtogether-chat-app/src/components/Player/index.js"],"names":["React","Component","ReactPlayer","Button","Box","TextField","withFirebase","compose","ResponsivePlayer2","constructor","props","handlePlayPause","setState","playing","state","handlePlay","console","log","Resource","set","source","duration","played","progress","Player","push","sender","message","newSource","handlePause","handleDuration","handleSeekChange","e","parseFloat","target","value","handleProgress","seeking","onTextChange","event","name","Buffer","player","play","bind","handleValueChange","firebase","db","ref","child","handleNewPlayer","snap","val","seekTo","componentDidMount","on","componentWillUnmount","off","url","muted","preventDefault","render","ResponsivePlayer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAO,cAAP;AACA,SAASC,YAAT,QAA6B,aAA7B;AACA,SAASC,OAAT,QAAwB,WAAxB;;AAEA,MAAMC,iBAAN,SAAgCP,SAAhC,CAA0C;AACxCQ,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACb,UAAMA,KAAN;;AADa,SAyCfC,eAzCe,GAyCG,MAAM;AACtB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE,CAAC,KAAKC,KAAL,CAAWD;AAAvB,OAAd;AACD,KA3Cc;;AAAA,SA6CfE,UA7Ce,GA6CF,MAAM;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,WAAKL,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd;AACA,WAAKK,QAAL,CAAcC,GAAd,CAAkB;AAChBN,QAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWD,OADJ;AAEhBO,QAAAA,MAAM,EAAE,KAAKN,KAAL,CAAWM,MAFH;AAGhBC,QAAAA,QAAQ,EAAE,KAAKP,KAAL,CAAWO,QAHL;AAIhBC,QAAAA,MAAM,EAAE,KAAKR,KAAL,CAAWQ,MAJH;AAKhBC,QAAAA,QAAQ,EAAE;AALM,OAAlB;AAOA,WAAKC,MAAL,CAAYC,IAAZ,CAAiB;AACfC,QAAAA,MAAM,EAAE,MADO;AAEfC,QAAAA,OAAO,EAAE,4BAFM;AAGfC,QAAAA,SAAS,EAAE,KAAKd,KAAL,CAAWc;AAHP,OAAjB;AAKD,KA5Dc;;AAAA,SA8DfC,WA9De,GA8DD,MAAM;AAClBb,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,WAAKL,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd;AACA,WAAKK,QAAL,CAAcC,GAAd,CAAkB;AAChBN,QAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWD,OADJ;AAEhBO,QAAAA,MAAM,EAAE,KAAKN,KAAL,CAAWM,MAFH;AAGhBC,QAAAA,QAAQ,EAAE,KAAKP,KAAL,CAAWO,QAHL;AAIhBC,QAAAA,MAAM,EAAE,KAAKR,KAAL,CAAWQ;AAJH,OAAlB;AAOA,WAAKE,MAAL,CAAYC,IAAZ,CAAiB;AACfC,QAAAA,MAAM,EAAE,OADO;AAEfC,QAAAA,OAAO,EAAE,2BAFM;AAGfC,QAAAA,SAAS,EAAE,KAAKd,KAAL,CAAWc;AAHP,OAAjB;AAKD,KA7Ec;;AAAA,SA+EfE,cA/Ee,GA+EGT,QAAD,IAAc;AAC7BL,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BI,QAA1B;AACA,WAAKT,QAAL,CAAc;AAAES,QAAAA;AAAF,OAAd;AACD,KAlFc;;AAAA,SAoFfU,gBApFe,GAoFIC,CAAC,IAAI;AACtB,WAAKpB,QAAL,CAAc;AAAEU,QAAAA,MAAM,EAAEW,UAAU,CAACD,CAAC,CAACE,MAAF,CAASC,KAAV;AAApB,OAAd;AACD,KAtFc;;AAAA,SAwFfC,cAxFe,GAwFEtB,KAAK,IAAI;AACxB;AACA,UAAI,CAAC,KAAKA,KAAL,CAAWuB,OAAhB,EAAyB;AACvB,aAAKzB,QAAL,CAAcE,KAAd,EADuB,CAEzB;AACC;;AACD,WAAKF,QAAL,CACE;AACEU,QAAAA,MAAM,EAAER,KAAK,CAACQ,MADhB;AAEEC,QAAAA,QAAQ,EAAE;AAFZ,OADF;AAKA,WAAKL,QAAL,CAAcC,GAAd,CAAkB;AAChBN,QAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWD,OADJ;AAEhBO,QAAAA,MAAM,EAAE,KAAKN,KAAL,CAAWM,MAFH;AAGhBC,QAAAA,QAAQ,EAAE,KAAKP,KAAL,CAAWO,QAHL;AAIhBC,QAAAA,MAAM,EAAE,KAAKR,KAAL,CAAWQ;AAJH,OAAlB;AAOD,KA1Gc;;AAAA,SA+IrBgB,YA/IqB,GA+INC,KAAK,IAAI;AACtBvB,MAAAA,OAAO,CAACC,GAAR,CAAYsB,KAAK,CAACL,MAAN,CAAaC,KAAzB;AACA,WAAKvB,QAAL,CAAc;AAAE,SAAC2B,KAAK,CAACL,MAAN,CAAaM,IAAd,GAAqBD,KAAK,CAACL,MAAN,CAAaC;AAApC,OAAd;AACD,KAlJoB;;AAAA,SAsJrBM,MAtJqB,GAsJZ,MACT;AACE,WAAK7B,QAAL,CAAc;AAACW,QAAAA,QAAQ,EAAE;AAAX,OAAd;AACD,KAzJoB;;AAEf,SAAKT,KAAL,GAAa;AACXM,MAAAA,MAAM,EAAE,EADG;AAEXQ,MAAAA,SAAS,EAAE,KAFA;AAGXc,MAAAA,MAAM,EAAE,EAHG;AAIX7B,MAAAA,OAAO,EAAE,KAJE;AAKXQ,MAAAA,QAAQ,EAAE,CALC;AAMXgB,MAAAA,OAAO,EAAE,KANE;AAOXf,MAAAA,MAAM,EAAE,GAPG;AAQXC,MAAAA,QAAQ,EAAE;AARC,KAAb;AAUE,SAAKoB,IAAL,GAAY,KAAKA,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAZ;AACA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKN,YAAL,GAAoB,KAAKA,YAAL,CAAkBM,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKpB,MAAL,GAAc,KAAKd,KAAL,CAAWoC,QAAX,CAAoBC,EAApB,CAAuBC,GAAvB,GAA6BC,KAA7B,CAAmC,WAAnC,EAAgDA,KAAhD,CAAsD,QAAtD,CAAd;AACA,SAAK/B,QAAL,GAAgB,KAAKR,KAAL,CAAWoC,QAAX,CAAoBC,EAApB,CAAuBC,GAAvB,GAA6BC,KAA7B,CAAmC,QAAnC,CAAhB;;AACA,SAAKC,eAAL,GAAuBC,IAAI,IAAI;AAC7BnC,MAAAA,OAAO,CAACC,GAAR,CAAYkC,IAAI,CAACF,KAAL,CAAW,QAAX,EAAqBG,GAArB,EAAZ;AACA,UAAGD,IAAI,CAACC,GAAL,EAAH,EAAe,KAAKxC,QAAL,CAAc;AAC3BQ,QAAAA,MAAM,EAAE+B,IAAI,CAACF,KAAL,CAAW,QAAX,EAAqBG,GAArB,EADmB;AAE3BvC,QAAAA,OAAO,EAAEsC,IAAI,CAACF,KAAL,CAAW,SAAX,EAAsBG,GAAtB,EAFkB;AAG3B/B,QAAAA,QAAQ,EAAE8B,IAAI,CAACF,KAAL,CAAW,UAAX,EAAuBG,GAAvB,EAHiB;AAI3B9B,QAAAA,MAAM,EAAE6B,IAAI,CAACF,KAAL,CAAW,QAAX,EAAqBG,GAArB,EAJmB;AAK3B7B,QAAAA,QAAQ,EAAE4B,IAAI,CAACF,KAAL,CAAW,UAAX,EAAuBG,GAAvB;AALiB,OAAd,EAFc,CAQ7B;;AACE,UAAG,KAAKtC,KAAL,CAAWS,QAAd,EACA;AACE,aAAKT,KAAL,CAAW4B,MAAX,CAAkBW,MAAlB,CAAyB,KAAKvC,KAAL,CAAWQ,MAApC;AACA,aAAKV,QAAL,CAAc;AACdW,UAAAA,QAAQ,EAAE;AADI,SAAd;AAGD;AACJ,KAhBD,CAjBa,CAkCb;AACA;AACA;AACA;AACA;;AACD;;AAqED+B,EAAAA,iBAAiB,GAAG;AAClB,SAAKpC,QAAL,CAAcqC,EAAd,CAAiB,OAAjB,EAA0B,KAAKL,eAA/B;AACD;;AACDM,EAAAA,oBAAoB,GAAG;AACrB;AACA,SAAKtC,QAAL,CAAcuC,GAAd,CAAkB,OAAlB,EAA2B,KAAKP,eAAhC;AACD;;AACPP,EAAAA,IAAI,CAACe,GAAD,EAAM;AAEN1C,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAL,CAAW4B,MAAX,CAAkBhC,KAAlB,CAAwBiD,KAApC;AACA,SAAK/C,QAAL,CAAc;AACZQ,MAAAA,MAAM,EAAE;AADI,KAAd;AAIAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAL,CAAW4B,MAAvB;AAEH;;AACDG,EAAAA,iBAAiB,CAACb,CAAD,EAAI;AACnB,SAAKR,MAAL,CAAYC,IAAZ,CAAiB;AACfC,MAAAA,MAAM,EAAE,KADO;AAEfC,MAAAA,OAAO,EAAE,iBAAiB,KAAKb,KAAL,CAAWc,SAFtB;AAGfA,MAAAA,SAAS,EAAE,KAAKd,KAAL,CAAWc;AAHP,KAAjB;AAKA,SAAKV,QAAL,CAAcC,GAAd,CAAkB;AAChBC,MAAAA,MAAM,EAAE,KAAKN,KAAL,CAAWc,SADH;AAEhBf,MAAAA,OAAO,EAAE,KAFO;AAGhBQ,MAAAA,QAAQ,EAAE,CAHM;AAIhBC,MAAAA,MAAM,EAAE;AAJQ,KAAlB;AAMA,SAAKV,QAAL,CAAc;AACZQ,MAAAA,MAAM,EAAE,KAAKN,KAAL,CAAWc;AADP,KAAd;AAGAI,IAAAA,CAAC,CAAC4B,cAAF;AACA,SAAKhD,QAAL,CAAc;AAAEgB,MAAAA,SAAS,EAAE;AAAb,KAAd;AACD;;AAYCiC,EAAAA,MAAM,GAAI;AAAA,UAENjC,SAFM,GAGJ,KAAKd,KAHD,CAENc,SAFM;AAIR,WAEE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AACD,MAAA,GAAG,EAAEc,MAAM,IAAI;AACF,aAAK5B,KAAL,CAAW4B,MAAX,GAAoBA,MAApB;AACD,OAHX;AAIE,MAAA,SAAS,EAAC,cAJZ;AAKE,MAAA,GAAG,EAAE,KAAK5B,KAAL,CAAWM,MALlB;AAME,MAAA,QAAQ,MANV;AAOE,MAAA,OAAO,EAAG,KAAKN,KAAL,CAAWD,OAPvB;AAQE,MAAA,KAAK,EAAG,QARV;AASE,MAAA,MAAM,EAAG,OATX;AAUE,MAAA,OAAO,EAAE,KAAKgB,WAVhB;AAWE,MAAA,MAAM,EAAE,KAAKd,UAXf;AAYE,MAAA,UAAU,EAAE,KAAKe,cAZnB;AAaE,MAAA,MAAM,EAAEE,CAAC,IAAIhB,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBe,CAAtB,CAbf;AAcE,MAAA,QAAQ,EAAE,KAAKS,MAdjB;AAeE,MAAA,UAAU,EAAE,KAAKL,cAfnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAkBA;AAAK,MAAA,SAAS,EAAG,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKzB,eAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,CAlBA,EAwBA;AAAM,MAAA,QAAQ,EAAE,KAAKkC,iBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAO,MAAA,KAAK,EAAIjB,SAAhB;AACA,MAAA,QAAQ,EAAE,KAAKU,YADf;AAEA,MAAA,IAAI,EAAC,MAFL;AAGA,MAAA,IAAI,EAAC,WAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CAxBA,EA+BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBA/BA,EAgCU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKxB,KAAL,CAAWD,OAAX,GAAqB,MAArB,GAA8B,OAAnC,CAhCV,EAiCW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjCX,EAkCU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI;AAAU,MAAA,GAAG,EAAE,CAAf;AAAkB,MAAA,KAAK,EAAE,KAAKC,KAAL,CAAWQ,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ,CAlCV,CAFF;AAwCD;;AAvMuC;;AAyM1C,MAAMwC,gBAAgB,GAAGvD,OAAO,CAC9BD,YAD8B,CAAP,CAEvBE,iBAFuB,CAAzB;AAGA,eAAesD,gBAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactPlayer from 'react-player'\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport './Player.css';\r\nimport { withFirebase } from '../Firebase';\r\nimport { compose } from 'recompose';\r\n\r\nclass ResponsivePlayer2 extends Component {\r\n  constructor(props) {\r\n        super(props);\r\n      this.state = {\r\n        source: '',\r\n        newSource: 'qwe',\r\n        player: '',\r\n        playing: false,\r\n        duration: 0,\r\n        seeking: false,\r\n        played: 0.5,\r\n        progress: false,\r\n      }\r\n        this.play = this.play.bind(this);\r\n        this.handleValueChange = this.handleValueChange.bind(this);\r\n        this.onTextChange = this.onTextChange.bind(this);\r\n        this.Player = this.props.firebase.db.ref().child('chatrooms').child('global');\r\n        this.Resource = this.props.firebase.db.ref().child('Player');\r\n        this.handleNewPlayer = snap => {\r\n          console.log(snap.child(\"source\").val());\r\n          if(snap.val()) this.setState({ \r\n            source: snap.child(\"source\").val(),\r\n            playing: snap.child(\"playing\").val(),\r\n            duration: snap.child(\"duration\").val(),\r\n            played: snap.child(\"played\").val(),\r\n            progress: snap.child(\"progress\").val() })\r\n          //  this.state.player.seekTo(this.state.played);\r\n            if(this.state.progress)\r\n            {\r\n              this.state.player.seekTo(this.state.played);\r\n              this.setState({ \r\n              progress: false\r\n              })\r\n            }\r\n        }\r\n        // if(this.progress === true)\r\n        // {\r\n        //   console.log('hi');\r\n        //   this.player.seekTo(this.played, 'fraction');\r\n        // }\r\n      }\r\n      \r\n      handlePlayPause = () => {\r\n        this.setState({ playing: !this.state.playing })\r\n      }\r\n  \r\n      handlePlay = () => {\r\n        console.log('onPlay');\r\n        this.setState({ playing: true });\r\n        this.Resource.set({\r\n          playing: this.state.playing,\r\n          source: this.state.source,\r\n          duration: this.state.duration,\r\n          played: this.state.played,\r\n          progress: true\r\n        });\r\n        this.Player.push({\r\n          sender: 'Play',\r\n          message: 'The video has been resumed',\r\n          newSource: this.state.newSource\r\n        });\r\n      }\r\n\r\n      handlePause = () => {\r\n        console.log('onPause')\r\n        this.setState({ playing: false });\r\n        this.Resource.set({\r\n          playing: this.state.playing,\r\n          source: this.state.source,\r\n          duration: this.state.duration,\r\n          played: this.state.played\r\n\r\n        });\r\n        this.Player.push({\r\n          sender: 'Pause',\r\n          message: 'The video has been paused',\r\n          newSource: this.state.newSource\r\n        });\r\n      }\r\n\r\n      handleDuration = (duration) => {\r\n        console.log('onDuration', duration)\r\n        this.setState({ duration })\r\n      }\r\n      \r\n      handleSeekChange = e => {\r\n        this.setState({ played: parseFloat(e.target.value) })\r\n      }\r\n\r\n      handleProgress = state => {\r\n        // We only want to update time slider if we are not currently seeking\r\n        if (!this.state.seeking) {\r\n          this.setState(state)\r\n        //  console.log('onProgress', state)\r\n        }\r\n        this.setState(\r\n          {\r\n            played: state.played,\r\n            progress: true\r\n          })\r\n        this.Resource.set({\r\n          playing: this.state.playing,\r\n          source: this.state.source,\r\n          duration: this.state.duration,\r\n          played: this.state.played\r\n\r\n        });\r\n      }\r\n\r\n      componentDidMount() {\r\n        this.Resource.on('value', this.handleNewPlayer);\r\n      }\r\n      componentWillUnmount() {\r\n        // unsubscribe\r\n        this.Resource.off('value', this.handleNewPlayer);\r\n      }\r\nplay(url) {   \r\n \r\n    console.log(this.state.player.props.muted);\r\n    this.setState({\r\n      source: 'https://www.youtube.com/watch?v=foiD5iCkq08'\r\n      \r\n    }); \r\n    console.log(this.state.player);\r\n\r\n}\r\nhandleValueChange(e) {\r\n  this.Player.push({\r\n    sender: 'URL',\r\n    message: 'new URL is: ' + this.state.newSource,\r\n    newSource: this.state.newSource\r\n  });\r\n  this.Resource.set({\r\n    source: this.state.newSource,\r\n    playing: false,\r\n    duration: 0,\r\n    played: 0\r\n  });\r\n  this.setState({\r\n    source: this.state.newSource\r\n  });\r\n  e.preventDefault();\r\n  this.setState({ newSource: \"\" });\r\n}\r\nonTextChange = event => {\r\n  console.log(event.target.value);\r\n  this.setState({ [event.target.name]: event.target.value });\r\n};\r\n\r\n// currently handling syncing through buffer, videos will be exactly 1:1 with\r\n// this method but the video will stutter until both players are synced up\r\nBuffer = () => \r\n{\r\n  this.setState({progress: true})\r\n}\r\n  render () {\r\n    const {\r\n      newSource\r\n    } = this.state;\r\n    return (\r\n      \r\n      <div className='player-wrapper'>\r\n        <ReactPlayer\r\n       ref={player => {\r\n                    this.state.player = player;\r\n                  }}\r\n          className='react-player'\r\n          url={this.state.source}\r\n          controls\r\n          playing ={this.state.playing}\r\n          width = \"1000px\"\r\n          height = \"720px\"\r\n          onPause={this.handlePause}\r\n          onPlay={this.handlePlay}\r\n          onDuration={this.handleDuration}\r\n          onSeek={e => console.log('onSeek', e)}\r\n          onBuffer={this.Buffer}\r\n          onProgress={this.handleProgress}\r\n        />\r\n      <div className = 'buttons'>\r\n      <Button onClick={this.handlePlayPause}>\r\n            Link #2\r\n          </Button>\r\n      </div>\r\n      \r\n      <form onSubmit={this.handleValueChange}>\r\n      <input value = {newSource} \r\n      onChange={this.onTextChange} \r\n      type=\"text\" \r\n      name=\"newSource\">\r\n        </input>\r\n      </form>\r\n      <th>playing</th>\r\n                <td>{this.state.playing ? 'true' : 'false'}</td>\r\n                 <th>Played</th>\r\n                <td><progress max={1} value={this.state.played} /></td>\r\n      </div>\r\n      \r\n    )\r\n  }\r\n}\r\nconst ResponsivePlayer = compose(\r\n  withFirebase,\r\n)(ResponsivePlayer2);\r\nexport default ResponsivePlayer;"]},"metadata":{},"sourceType":"module"}